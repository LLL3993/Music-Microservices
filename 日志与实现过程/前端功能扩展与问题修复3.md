# 音乐网站前端美化日志

## 项目概述
本次美化工作针对音乐网站前端项目，目标是实现统一的视觉风格、现代化的界面设计、流畅的交互体验，并添加遮罩层功能。

## 设计规范

### 色彩系统
- **主色调**: `#ff4e4e` (红色)
- **背景色**: `#f5f5f5` (浅灰)
- **卡片背景**: `#ffffff` (白色)
- **文本颜色**: `#333333` (深灰)
- **边框颜色**: `#e0e0e0` (浅灰)
- **渐变背景**: 135度线性渐变

### 字体系统
- **主要字体**: 14px-16px
- **标题字体**: 18px-24px
- **字体权重**: 400(正常), 500(中等), 600(半粗)

### 间距系统
- **小间距**: 8px
- **中间距**: 12px-16px
- **大间距**: 20px-24px

### 圆角系统
- **小圆角**: 8px (radius)
- **中圆角**: 12px (radius-lg)
- **大圆角**: 16px (radius-xl)
- **圆形**: 9999px (radius-full)

### 阴影系统
- **卡片阴影**: 0 4px 12px rgba(0,0,0,0.1)
- **悬停阴影**: 0 8px 24px rgba(0,0,0,0.15)
- **按钮阴影**: 0 4px 12px rgba(255,78,78,0.3)

### 动画系统
- **过渡时间**: 0.2s-0.3s
- **缓动函数**: ease-out
- **关键动画**: fadeIn, slideInUp, slideInDown, pulse, bounce, rotate, glow

## 实现内容

### 1. 建立统一的设计规范
**文件**: `src/style.css`

**新增CSS变量**:
```css
:root {
  --accent: #ff4e4e;
  --accent-hover: #ff6b6b;
  --accent-gradient: linear-gradient(135deg, #ff4e4e 0%, #ff8585 100%);
  --bg: #f5f5f5;
  --card: #ffffff;
  --panel: #ffffff;
  --text: #333333;
  --text-secondary: #666666;
  --text-muted: #999999;
  --border: #e0e0e0;
  --border-focus: rgba(255, 78, 78, 0.2);
  --card-hover: rgba(255, 78, 78, 0.05);
  --radius: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;
  --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.1);
  --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.15);
  --transition: all 0.2s ease-out;
}
```

**新增动画关键帧**:
- `fadeIn`: 淡入效果
- `slideInUp`: 向上滑入
- `slideInDown`: 向下滑入
- `pulse`: 脉冲效果
- `bounce`: 弹跳效果
- `rotate`: 旋转效果
- `glow`: 发光效果
- `shimmer`: 闪光效果
- `float`: 浮动效果

### 2. 创建遮罩层组件
**文件**: `src/components/OverlayMask.vue`

**功能**:
- 全屏遮罩层
- 毛玻璃效果(backdrop-filter)
- 渐变背景
- 淡入淡出动画
- 点击关闭功能

**样式特点**:
```css
.mask {
  position: fixed;
  inset: 0;
  z-index: 999;
  background: linear-gradient(135deg, ...);
  backdrop-filter: blur(20px);
  opacity: 0;
  visibility: hidden;
  transition: var(--transition);
}

.mask.active {
  opacity: 1;
  visibility: visible;
}
```

### 3. 创建可复用组件样式
**文件**: `src/styles/components.css`

**包含组件**:
- **按钮样式**: `.btn`, `.btn-primary`, `.btn-secondary`
- **卡片样式**: `.card`, `.card-hover`
- **网格布局**: `.grid`, `.grid-2`, `.grid-3`, `.grid-4`
- **动画类**: `.animate-fade-in`, `.animate-glow`, `.hover-lift`, `.hover-scale`
- **加载动画**: `.loading-shimmer`

## 近期优化（2025-12-25）

### 1. 退出登录统一回到发现音乐并停止播放
**文件**: `src/views/Layout.vue`

**实现**:
- 在退出登录时暂停音频播放、清零播放进度并更新持久化的播放器状态
- 无论当前处于哪个界面，统一跳转到“发现音乐”

### 2. 未登录拦截播放器操作与创建歌单
**文件**: `src/views/Layout.vue`, `src/views/Playlists.vue`

**实现**:
- 未登录时点击底部音乐面板相关按钮（打开播放器/上一首/播放暂停/下一首/收藏/拖动进度）会弹出登录弹窗
- 歌单页点击“创建歌单”时未登录会触发登录弹窗

### 3. 修复登录/注册弹窗无法打开
**文件**: `src/views/Layout.vue`

**实现**:
- 为弹窗遮罩补齐 `active` 状态类绑定，使遮罩从隐藏态切换为可见态

### 4. 收藏状态在面板与搜索页同步
**文件**: `src/views/Layout.vue`, `src/views/Search.vue`

**实现**:
- 通过全局事件在“底部音乐面板”和“搜索页”之间同步收藏/取消收藏结果
- 支持整表同步（加载收藏列表）与单曲增量同步（切换收藏）

### 5. 所有页面增加切换进入动画
**文件**: `src/views/Admin.vue`, `src/views/Favorites.vue`, `src/views/Playlists.vue`, `src/views/Player.vue`, `src/views/Empty.vue`

**实现**:
- 统一为页面根节点补充 `animate-fade-in` 类，保证路由切换进入时动画一致

### 6. 登录按钮改为米白色
**文件**: `src/views/Layout.vue`

**实现**:
- 顶部栏“登录”按钮使用米白色背景，提升在暗色背景下的辨识度

### 4. 美化主页面布局
**文件**: `src/views/Layout.vue`

**更新内容**:
- **顶部导航栏**: 更新品牌logo、搜索框、用户菜单样式
- **侧边栏**: 优化导航项的悬停效果和选中状态
- **播放器栏**: 重新设计播放控制区域，添加渐变背景
- **模态框**: 统一登录/注册表单的样式
- **响应式设计**: 优化移动端显示效果

**关键改进**:
- 添加悬停提升效果
- 优化按钮交互反馈
- 统一卡片阴影和圆角
- 增强视觉层次感

### 5. 美化播放器界面
**文件**: `src/views/Player.vue`

**重大更新**:
- **遮罩层**: 应用渐变背景和毛玻璃效果
- **封面区域**: 增大尺寸，添加旋转动画和悬停缩放
- **歌词区域**: 优化行高和间距，添加悬停滑动效果
- **控制按钮**: 统一大小和圆角，添加悬停动画
- **进度条**: 自定义滑块样式，添加悬停放大效果
- **时间显示**: 优化字体大小和颜色对比

**动画效果**:
- 封面旋转动画(播放时)
- 歌词行悬停滑动
- 按钮悬停缩放
- 面板滑入动画

### 6. 美化列表和卡片组件
**文件**: `src/views/Discover.vue`

**发现页面改进**:
- **轮播图**: 添加悬停缩放和导航按钮淡入效果
- **推荐歌单**: 卡片悬停提升和阴影增强
- **图片处理**: 添加亮度/对比度滤镜和悬停效果
- **响应式布局**: 优化不同屏幕尺寸的显示

**交互细节**:
- 导航按钮默认隐藏，悬停显示
- 图片悬停时缩放和滤镜变化
- 卡片悬停时边框颜色变化

### 7. 美化按钮和交互元素
**文件**: `src/views/Search.vue`

**搜索页面优化**:
- **热门标签**: 添加悬停背景和位移效果
- **搜索框**: 聚焦时添加阴影和高亮边框
- **结果列表**: 项目悬停时整体提升和背景变化
- **操作按钮**: 播放、收藏、添加到歌单按钮的悬停动画
- **下拉选择**: 统一表单元素样式

**按钮状态**:
- 默认状态: 统一边框和背景
- 悬停状态: 颜色变化、轻微位移、阴影增强
- 激活状态: 主色调背景、白色文字
- 收藏状态: 心形图标颜色变化

### 8. 添加动画效果和过渡
**全局动画应用**:
- **页面加载**: 所有主要页面添加`animate-fade-in`类
- **列表项**: 使用延迟动画创建渐进式加载效果
- **悬停效果**: 统一使用`hover-lift`和`hover-scale`类
- **按钮交互**: 添加缩放、颜色变化、阴影增强

**动画性能优化**:
- 使用CSS transform代替位置属性
- 合理使用`will-change`属性
- 避免过度动画，保持用户体验

## 近期优化（2025-12-25）

### 1. 收藏状态跨页面同步（音乐面板 / 搜索 / 我的收藏）
**文件**: `src/views/Layout.vue`, `src/views/Search.vue`, `src/views/Favorites.vue`

**实现**:
- 统一通过全局事件 `favorites:changed` 同步收藏结果：支持“整表同步”（map）与“单曲增量同步”（songName + id）
- 音乐面板收藏/取消收藏后，搜索页与收藏页会同步更新 UI
- 搜索页/收藏页取消收藏后，音乐面板也会同步更新收藏状态

### 2. 操作提示统一改为导航栏下方 Toast
**文件**: `src/views/Layout.vue`, `src/views/Search.vue`, `src/views/Favorites.vue`

**实现**:
- 顶部导航栏下方增加滑入式 Toast（通过 `toast:show` 事件触发）
- 搜索页移除“热门搜索”下方的本地提示文案，收藏/取消收藏改为 Toast
- 收藏页取消收藏同样使用 Toast 提示

### 3. 歌单公开状态可配置（创建 + 详情页切换）
**文件**: `src/views/Playlists.vue`

**实现**:
- 创建歌单弹窗中加入“公开”勾选项，允许创建时指定公开/私密
- 歌单详情页加入“公开”勾选项，实时调用 `PUT /api/playlists/{id}` 更新 `isPublic`

### 4. 发现页推荐歌单固定展示 4 个公开歌单并调整布局
**文件**: `src/views/Discover.vue`

**实现**:
- 推荐歌单从“横向滚动”改为“固定 4 列网格”，保证一屏直接并排放下 4 个歌单框
- 推荐数据来源改为“公开歌单前 4 个”

### 5. 补齐公开歌单查询接口（避免前端做全量过滤）
**文件**: `list-service/src/main/java/.../PlaylistController.java`, `list-service/src/main/java/.../PlaylistService.java`, `list-service/src/main/java/.../PlaylistRepository.java`

**实现**:
- 新增 `GET /api/playlists/public?limit=4`，仅返回公开歌单列表（按 id 倒序），用于发现页推荐展示

## 技术亮点

### 1. CSS自定义属性(变量)
- 建立完整的设计系统
- 支持主题切换(浅色/深色模式)
- 便于后期维护和调整

### 2. 现代CSS特性
- `color-mix()`: 颜色混合函数
- `backdrop-filter`: 毛玻璃效果
- `aspect-ratio`: 宽高比控制
- CSS Grid和Flexbox布局

### 3. 性能优化
- 使用CSS动画而非JavaScript动画
- 合理使用GPU加速属性
- 避免重排重绘的动画属性

### 4. 可访问性
- 足够的颜色对比度
- 键盘导航支持
- 焦点状态可视化
- 响应式设计

## 文件结构
```
music-web/
├── src/
│   ├── components/
│   │   └── OverlayMask.vue          # 遮罩层组件
│   ├── styles/
│   │   └── components.css            # 可复用组件样式
│   ├── views/
│   │   ├── Layout.vue               # 主页面布局(已美化)
│   │   ├── Player.vue               # 播放器界面(已美化)
│   │   ├── Discover.vue             # 发现页面(已美化)
│   │   └── Search.vue               # 搜索页面(已美化)
│   ├── style.css                    # 全局样式和变量(已更新)
│   └── main.js                      # 入口文件
└── 美化.md                           # 本日志文件
```

## 后续建议

### 1. 主题系统扩展
- 实现完整的深色模式切换
- 添加更多预设主题色彩
- 用户自定义主题功能

### 2. 组件库完善
- 提取更多可复用组件
- 建立组件文档
- 添加组件状态管理

### 3. 动画系统增强
- 添加页面切换动画
- 实现更复杂的交互动画
- 优化动画性能监控

### 4. 响应式优化
- 完善移动端体验
- 添加平板适配
- 优化大屏幕显示

### 5. 性能监控
- 添加性能指标监控
- 优化首屏加载时间
- 减少CSS文件大小

## 后续修改记录

### 2025年12月25日 - 细节优化

#### 1. 界面边距调整
**文件**: `src/views/Layout.vue`

**修改内容**:
- 在主内容区域添加左右边距 `padding: 0 40px`
- 顶部导航栏和播放面板保持不动，不受边距影响
- 增加顶部导航栏和播放面板的内边距到64px，保持视觉对齐

**代码实现**:
```css
.main {
  flex: 1;
  display: flex;
  min-height: 0;
  padding: 0 40px; /* 添加左右边距 */
}

.topbar {
  padding: 0 64px; /* 增加内边距 */
}

.playerbar {
  padding: 0 64px; /* 增加内边距 */
}
```

#### 2. 遮罩层旋转唱片优化
**文件**: `src/views/Player.vue`

**修改内容**:
- 将方形唱片改为圆形，设置 `border-radius: 50%`
- 保持旋转动画效果不变
- 优化封面图片的圆角显示

**代码实现**:
```css
.cover-wrap {
  width: 360px;
  height: 360px;
  border-radius: 50%; /* 改为圆形 */
}

.cover {
  width: 100%;
  height: 100%;
  border-radius: 50%; /* 圆形封面 */
}
```

#### 3. 歌词显示框优化
**文件**: `src/views/Player.vue`

**修改内容**:
- 将歌词显示框的水平长度缩小为原来的一半
- 设置最大宽度为180px，居中显示
- 保持自动滚动和当前行高亮功能

**代码实现**:
```css
.lyrics {
  height: 320px;
  overflow-y: auto;
  scrollbar-gutter: stable;
  width: 50%; /* 缩小为一半 */
  max-width: 180px;
  margin: 0 auto; /* 居中 */
}
```

#### 4. 音乐进度条填充效果
**文件**: `src/views/Player.vue`

**修改内容**:
- 在进度条左侧添加红色渐变填充效果
- 填充长度随播放进度动态变化
- 保持原有拖拽功能和样式

**代码实现**:
```css
.progress-fill {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background: var(--accent-gradient); /* 红色渐变 */
  border-radius: var(--radius-full);
  transition: width 0.1s ease-out;
}
```

#### 5. 歌词与进度条同步
**文件**: `src/views/Player.vue`

**新增功能**:
- 实现拖拽进度条时歌词同步更新
- 添加平滑滚动到当前歌词行的效果
- 保持歌词高亮和自动滚动功能

**代码实现**:
```javascript
function updateActiveLyricLine(time) {
  const arr = lyricItems.value
  if (!arr.length) return
  let idx = 0
  for (let i = 0; i < arr.length; i += 1) {
    if (arr[i].time <= time + 0.05) idx = i
    else break
  }
  activeLine.value = idx
  
  // 滚动到当前歌词行
  nextTick(() => {
    const container = document.querySelector('.lyrics')
    const activeElement = document.querySelector('.lyric-line.active')
    if (container && activeElement) {
      const containerHeight = container.clientHeight
      const elementTop = activeElement.offsetTop
      const elementHeight = activeElement.offsetHeight
      const scrollTop = elementTop - containerHeight / 2 + elementHeight / 2
      container.scrollTo({
        top: scrollTop,
        behavior: 'smooth'
      })
    }
  })
}
```

#### 6. 浅色模式播放面板阴影移除
**文件**: `src/views/Layout.vue`

**修改内容**:
- 在浅色主题下移除播放面板的阴影效果
- 深色模式下保持原有阴影
- 使用CSS属性选择器实现条件样式

**代码实现**:
```css
/* 浅色主题下移除阴影 */
[data-theme="light"] .playerbar {
  box-shadow: none;
}
```

#### 7. 发现页面轮播图前后图片效果
**文件**: `src/views/Discover.vue`

**新增功能**:
- 在当前轮播图片左右显示前后两张图片
- 前后图片设置为30%透明度，大部分被当前图片遮挡
- 只露出部分边缘，增强视觉层次感
- 保持原有的自动轮播和手动切换功能

**代码实现**:
```html
<!-- 前一个图片 -->
<img
  v-if="banners.length > 1"
  class="banner-img banner-prev"
  :src="banners[(activeBanner - 1 + banners.length) % banners.length]"
  alt="prev banner"
/>
<!-- 当前图片 -->
<img
  class="banner-img banner-current"
  :src="bannerUrl"
  alt="banner"
/>
<!-- 后一个图片 -->
<img
  v-if="banners.length > 1"
  class="banner-img banner-next"
  :src="banners[(activeBanner + 1) % banners.length]"
  alt="next banner"
/>
```

```css
.banner {
  padding: 16px;
  position: relative;
  overflow: visible; /* 改为可见 */
  border-radius: var(--radius-lg);
  height: 352px; /* 固定高度 */
}

.banner-img {
  position: absolute;
  top: 16px;
  height: 320px;
  border-radius: var(--radius);
  object-fit: cover;
  transition: var(--transition);
  filter: brightness(0.95) contrast(1.05);
}

.banner-current {
  width: calc(100% - 32px);
  left: 16px;
  right: 16px;
  z-index: 3; /* 当前图片在最上层 */
}

.banner-prev,
.banner-next {
  width: 280px;
  opacity: 0.3; /* 30%透明度 */
  z-index: 1; /* 在底层 */
}

.banner-prev {
  left: -80px; /* 左侧偏移，露出部分 */
}

.banner-next {
  right: -80px; /* 右侧偏移，露出部分 */
}
```

## 技术实现总结

### CSS技术运用
1. **定位技术**: 使用`position: absolute`和`z-index`实现图片层级效果
2. **透明度控制**: 使用`opacity: 0.3`实现前后图片的透明效果
3. **圆角处理**: 使用`border-radius: 50%`实现圆形效果
4. **渐变背景**: 使用`linear-gradient`实现进度条填充效果
5. **过渡动画**: 使用`transition`实现平滑的状态变化

### JavaScript功能实现
1. **DOM操作**: 使用`nextTick`确保DOM更新后执行滚动
2. **数组操作**: 使用模运算实现循环数组索引
3. **事件处理**: 保持原有的拖拽和点击事件功能
4. **条件渲染**: 使用`v-if`确保在有多张图片时才显示前后图片

### Vue.js特性运用
1. **计算属性**: 使用`computed`实现响应式的图片URL计算
2. **条件渲染**: 使用`v-if`控制组件的显示和隐藏
3. **样式绑定**: 使用CSS变量实现主题切换
4. **生命周期**: 使用`onMounted`和`onBeforeUnmount`管理定时器

## 视觉改进效果

### 整体布局
- 界面左右边距增加了呼吸感，内容更加聚焦
- 顶部导航栏和播放面板保持紧凑，不受边距影响

### 播放器界面
- 圆形唱片更符合音乐播放的视觉习惯
- 缩小后的歌词框更加精致，不遮挡背景
- 红色进度条填充增强了播放进度的可视化
- 歌词与进度条同步提升了交互体验

### 发现页面
- 轮播图前后图片效果增强了视觉层次感
- 透明的前后图片营造出空间深度感
- 只露出部分边缘保持了界面的简洁性

### 主题适配
- 播放面板在所有主题下统一为无阴影风格

### 2025年12月25日 - 进一步优化

#### 1. 发现页轮播图缩窄并加入切换动画
**文件**: `src/views/Discover.vue`

**修改内容**:
- 缩小轮播图展示区域的水平长度，让“当前图 + 左右图”能在侧边栏右侧到页面右侧的空间内完整容纳
- 将轮播图图片放入舞台容器中，通过 `clamp()` 控制当前图宽度，避免过大/过小
- 为当前图切换增加过渡动画（淡入淡出 + 轻微缩放）

**代码实现**:
```css
.banner-stage {
  --img-w: clamp(520px, 72%, 760px);
  width: min(980px, 100%);
}

.banner-img {
  left: 50%;
  width: var(--img-w);
  transition: transform 0.45s ease, opacity 0.45s ease, filter 0.45s ease;
}
```

#### 2. 底部播放面板移除阴影
**文件**: `src/views/Layout.vue`

**修改内容**:
- 移除播放面板 `.playerbar` 的阴影样式（所有主题都不显示阴影）

#### 3. 修正遮罩进度条圆点位置
**文件**: `src/views/Player.vue`

**修改内容**:
- 将进度条的 `input[type="range"]` 绝对定位并垂直居中，让小圆点始终落在进度条轨道上
- 补齐 WebKit / Firefox 的 track 样式，确保轨道高度一致
- 将进度条容器改为 `overflow: visible`，避免圆点被裁切导致“看不到”

**代码实现**:
```css
.range {
  position: absolute;
  left: 0;
  top: 50%;
  height: 18px;
  transform: translateY(-50%);
}

.range::-webkit-slider-runnable-track {
  height: 6px;
}

.range::-moz-range-track {
  height: 6px;
}
```

#### 4. 增大遮罩歌词显示框
**文件**: `src/views/Player.vue`

**修改内容**:
- 歌词框在水平方向增大一些但不夸张，使用 `clamp()` 兼容不同宽度
- 歌词框在竖直方向增大一些，同时避免贴底，使用 `clamp()` 控制高度上限

**代码实现**:
```css
.lyrics {
  height: clamp(320px, 42vh, 460px);
  width: clamp(220px, 60%, 340px);
}
```

#### 5. 发现页轮播支持按钮点击切换与循环滑动动画
**文件**: `src/views/Discover.vue`

**修改内容**:
- 修复左右切换按钮“看得到但点不动”的问题（提升按钮层级，避免被图片覆盖）
- 点击左右按钮时实现“下一张移动到中间、当前移走”的循环滑动动画
- 自动轮播与手动切换共用同一套切换逻辑，且动画期间防止重复触发

**代码实现**:
```css
.banner-nav {
  z-index: 20;
}
```

```js
function switchBanner(direction) {
  if (isAnimating.value) return
  animFromUrl.value = banners[fromIndex]
  animToUrl.value = banners[toIndex]
  activeBanner.value = toIndex
  isAnimating.value = true
  window.setTimeout(() => (isAnimating.value = false), 460)
}
```

#### 6. 遮罩歌词自动滚动保持当前行在可视区居中
**文件**: `src/views/Player.vue`

**修改内容**:
- 调整歌词滚动策略：当前播放歌词始终保持在歌词框可视区域的正中心
- 采用更稳健的滚动计算方式（基于元素与容器的可视区域位置计算目标 scrollTop）

**代码实现**:
```js
const containerRect = container.getBoundingClientRect()
const activeRect = activeElement.getBoundingClientRect()
const delta = activeRect.top - containerRect.top
const target =
  container.scrollTop +
  delta -
  container.clientHeight / 2 +
  activeRect.height / 2
const maxScrollTop = Math.max(0, container.scrollHeight - container.clientHeight)
container.scrollTo({ top: clamp(target, 0, maxScrollTop), behavior: 'smooth' })
```

#### 7. 播放遮罩进度条仿造控制面板样式并恢复渐变背景
**文件**: `src/views/Player.vue`

**修改内容**:
- 进度条改为与底部音乐控制面板一致的 range 进度条写法，拖拽与显示保持稳定
- 遮罩面板背景改为更轻的半透明蒙层，让遮罩渐变背景正常透出（避免出现“整块发白”）

**关键实现**:
```css
.range {
  width: 100%;
  height: 6px;
  background: var(--border);
  border-radius: var(--radius-full);
}

.panel {
  background: color-mix(in srgb, var(--bg) 12%, transparent);
}
```

#### 8. 管理界面分页器移动到底部并居中横向排列
**文件**: `src/views/Admin.vue`

**修改内容**:
- 将“上一页 / 页码 / 下一页”在数据表下方居中显示，并保持水平排列与间距一致

**代码实现**:
```css
.pager {
  margin-top: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
}
```

#### 9. 头像 hover 弹框间距缩短
**文件**: `src/views/Layout.vue`

**修改内容**:
- 调整用户头像 hover 菜单的垂直偏移，让弹框更贴近头像，交互更紧凑

**代码实现**:
```css
.user-menu {
  top: calc(100% + 2px);
}
```

#### 10. 发现页推荐歌单支持点击直达歌单详情
**文件**: `src/views/Discover.vue`, `src/views/Playlists.vue`

**修改内容**:
- 推荐歌单卡片点击后跳转到歌单页面，并携带 `playlistName` 参数
- 歌单页面自动识别路由参数并自动打开对应歌单详情

**关键实现**:
```js
router.push({ name: 'Playlists', query: { playlistName } })
```

#### 11. 歌单歌曲追加末尾展示与封面统一取首曲
**文件**: `src/views/Playlists.vue`, `src/views/Discover.vue`

**修改内容**:
- 歌单详情列表按 `id` 升序排序，保证新增歌曲展示在歌单末尾
- 歌单封面统一取“歌单第一首歌”的封面（发现页推荐歌单封面逻辑同步调整）

## 总结

本次细节优化进一步完善了音乐网站的用户体验：播放遮罩进度条与背景显示恢复正常、推荐歌单支持一键直达详情、歌单新增歌曲与封面规则更符合直觉。所有修改保持了与原有设计系统的兼容性，确保整体风格一致。
